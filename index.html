<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>MiPlayer ‚Äî Corregido</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Manifest PWA -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#6C4AE2">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- CSS externo -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="wrap">
    <!-- LEFT (reproductor) -->
    <div class="left" id="leftCard" aria-label="Reproductor">
      <div class="top-controls">
        <div class="title-small">SysAccessVip Music</div>
        <div style="display:flex;gap:8px">
          <button class="icon-btn" id="btnQueue" title="Cola" aria-label="Cola">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 7h18M3 12h18M3 17h12" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
          <button class="icon-btn" id="btnMinimize" title="Minimizar" aria-label="Minimizar">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 12h12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path></svg>
          </button>
        </div>
      </div>

      <div class="player-area">
        <div class="vinyl" id="vinylCover" style="background-image:url('https://iili.io/KMLE6Ol.png')">
          <div class="ring" id="ringInner">
            <div id="vinylCenter" style="width:48px;height:48px;border-radius:50%;background:rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"></svg>
            </div>
          </div>
        </div>

        <div style="text-align:center">
          <div class="track-title" id="nowTitle">Disfruta tu m√∫sica</div>
          <div class="track-sub" id="nowArtist">Busca y reproduce</div>
        </div>

        <div class="video-box" id="videoBox"><div id="ytVisible"></div></div>

        <div class="controls">
          <button class="control" id="shuffleBtn" title="Aleatorio" aria-pressed="false"> 
            <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor" d="M3 4h4.5l4.5 6 4.5-6H21v2h-3l-3.8 5.1L18 16h3v2h-5.5L12 12.5 7.5 18H3v-2h3l3.8-5.1L6 6H3V4z"></path>
            </svg>
          </button>
          <button class="control" id="prevBtn" title="Anterior" aria-label="Anterior">‚èÆ</button>
          <button class="play" id="playBtn" title="Play/Pausa" aria-label="Play/Pausa">
            <svg id="playIcon" width="30" height="30" viewBox="0 0 24 24" fill="none"><path d="M5 3v18l15-9L5 3z" fill="#1b0a00"></path></svg>
          </button>
          <button class="control" id="nextBtn" title="Siguiente" aria-label="Siguiente">‚è≠</button>
          <button class="control" id="repeatBtn" title="Repetir" aria-pressed="false" aria-label="Repetir">üîÅ</button>
        </div>

        <div class="progress" aria-hidden="false"><div class="bar" id="progressBar"></div></div>

        <div style="display:flex;gap:8px;margin-top:14px;align-items:center">
          <button class="icon-btn" id="btnVideoToggle" title="Ocultar/Ver video" aria-label="Video toggle">üéû</button>
          <button class="icon-btn" id="btnCreatePL" title="Crear playlist" style="width:44px;height:40px;padding:6px;font-weight:700">+</button>
          <button class="icon-btn" id="btnFullScreen" title="Pantalla completa" aria-label="Pantalla completa">‚§¢</button>
        </div>
      </div>

      <button class="minimize" id="minimizeBtn">Minimizar</button>
    </div>

    <!-- RIGHT -->
    <div class="right" id="rightPanel">
      <div class="search-row">
        <div class="search-box">
          <svg width="18" height="18"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6"></path></svg>
          <input id="searchInput" placeholder="Buscar (m√°x 7 resultados)" autocomplete="off" aria-autocomplete="list" aria-controls="suggestions" aria-haspopup="listbox"/>
          <button id="searchBtn" class="icon-btn" style="width:40px;height:40px;padding:6px" aria-label="Buscar">üîé</button>

          <!-- suggestions dropdown -->
          <div id="suggestions" role="listbox" aria-label="Sugerencias de b√∫squeda"></div>
        </div>
      </div>

      <div class="actions-row">
        <div class="section-tabs" role="tablist">
          <div class="tab active" data-tab="tab-list">Lista</div>
          <div class="tab" data-tab="tab-recientes">Recientes</div>
          <div class="tab" data-tab="tab-favorites">Favoritos</div>
          <div class="tab" data-tab="tab-playlists">Playlists</div>
        </div>
        <div class="muted">Tus canciones</div>
      </div>

      <div class="list" id="listArea">
        <div style="padding:32px;text-align:center;color:var(--muted)">Busca una canci√≥n para comenzar</div>
      </div>
    </div>
  </div>

  <div class="mini hidden" id="miniPlayer" aria-hidden="true">
    <div class="mthumb" id="miniThumb" style="background-image:url('https://dummyimage.com/600x600/222/fff')"></div>
    <div class="mmeta">
      <div class="mname" id="miniTitle">No se reproduce</div>
      <div class="msub" id="miniArtist">‚Äî</div>
    </div>
    <div style="display:flex;align-items:center;gap:8px">
      <button class="icon-btn" id="miniPrev" aria-label="Anterior mini">‚èÆ</button>
      <button class="icon-btn" id="miniPlay" aria-label="Play mini"><svg id="miniPlayIcon" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M5 3v18l15-9L5 3z" fill="#111"></path></svg></button>
      <button class="icon-btn" id="miniNext" aria-label="Siguiente mini">‚è≠</button>
    </div>
  </div>

  <div id="modalRoot" class="hidden"></div>
  <div id="toastRoot" class="hidden"></div>
  <div id="ytApiHolder" style="display:none"></div>

  <!-- script principal -->
  <script src="script.js"></script>
</body>
</html>
